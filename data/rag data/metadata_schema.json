{
  "metadata_schema": {
    "version": "1.0",
    "description": "MyPetsVoice RAG 시스템을 위한 표준 메타데이터 스키마",
    "created_date": "2024-09-05",
    
    "required_fields": {
      "source_file": {
        "type": "string",
        "description": "원본 파일명",
        "example": "maltese_healthcare.json"
      },
      "source_type": {
        "type": "string",
        "description": "파일 형식",
        "enum": ["json", "markdown", "csv", "text", "pdf"],
        "example": "json"
      },
      "chunk_type": {
        "type": "string", 
        "description": "컨텐츠 분류",
        "enum": [
          "dog_health", "cat_health", "pet_general",
          "medicine", "disease", "emergency", 
          "nutrition", "symptoms", "breed_info",
          "registration", "lifestyle", "owner_obligation"
        ],
        "example": "dog_health"
      },
      "file_path": {
        "type": "string",
        "description": "전체 파일 경로",
        "example": "/data/rag data/breeds/dog_breed/maltese_healthcare.json"
      },
      "processed_date": {
        "type": "string",
        "format": "ISO 8601",
        "description": "문서 처리 날짜",
        "example": "2024-09-05T14:30:00.000Z"
      }
    },
    
    "optional_fields": {
      "id": {
        "type": "string",
        "description": "원본 문서의 고유 ID",
        "example": "maltese_puppy_healthcare"
      },
      "type": {
        "type": "string",
        "description": "원본 문서의 타입 필드",
        "example": "dog_health"
      },
      "title": {
        "type": "string",
        "description": "문서나 섹션 제목",
        "example": "말티즈 퍼피 건강관리"
      },
      "level": {
        "type": "integer",
        "description": "마크다운 헤더 레벨 (1-6)",
        "minimum": 1,
        "maximum": 6,
        "example": 2
      },
      "parent_titles": {
        "type": "array",
        "items": {"type": "string"},
        "description": "상위 섹션 제목들 (마크다운용)",
        "example": ["건강관리", "예방접종"]
      },
      "keywords": {
        "type": "array",
        "items": {"type": "string"},
        "description": "추출된 키워드 목록",
        "maxItems": 10,
        "example": ["말티즈", "퍼피", "예방접종", "건강검진"]
      },
      "source_url": {
        "type": "string",
        "format": "uri",
        "description": "출처 URL",
        "example": "https://medi.qia.go.kr/searchMedicine"
      },
      "source_title": {
        "type": "string", 
        "description": "출처 문서 제목",
        "example": "동물용의약품ㆍ의약외품 정보검색"
      },
      "publisher": {
        "type": "string",
        "description": "발행처/기관",
        "example": "농림축산검역본부 동물용의약품 아지(AZ)트"
      },
      "category": {
        "type": "string",
        "description": "세부 카테고리",
        "example": "동물용의약품"
      },
      "is_split": {
        "type": "boolean",
        "description": "큰 섹션에서 분할된 청크인지 여부",
        "default": false,
        "example": true
      },
      "token_count": {
        "type": "integer",
        "description": "추정 토큰 수",
        "minimum": 0,
        "example": 256
      },
      "language": {
        "type": "string", 
        "description": "주요 언어",
        "enum": ["ko", "en", "mixed"],
        "default": "ko",
        "example": "ko"
      },
      "quality_score": {
        "type": "number",
        "description": "컨텐츠 품질 점수 (0.0-1.0)",
        "minimum": 0.0,
        "maximum": 1.0,
        "example": 0.85
      }
    },
    
    "data_source_mapping": {
      "농림축산검역본부": {
        "source_domains": ["medi.qia.go.kr", "qia.go.kr"],
        "default_publisher": "농림축산검역본부",
        "content_types": ["medicine", "disease", "regulation"]
      },
      "국립축산과학원": {
        "source_domains": ["nias.go.kr"],  
        "default_publisher": "국립축산과학원",
        "content_types": ["pet_general", "nutrition", "healthcare"]
      },
      "농림축산식품부": {
        "source_domains": ["mafra.go.kr"],
        "default_publisher": "농림축산식품부", 
        "content_types": ["registration", "owner_obligation", "policy"]
      }
    },
    
    "chunk_type_descriptions": {
      "dog_health": "반려견 건강관리, 질병, 치료 관련 정보",
      "cat_health": "반려묘 건강관리, 질병, 치료 관련 정보", 
      "pet_general": "반려동물 일반 관리, 양육 가이드",
      "medicine": "동물용 의약품 정보",
      "disease": "동물 질병 정보, 증상, 진단",
      "emergency": "응급상황, 재해 대응",
      "nutrition": "사료, 영양 관리",
      "symptoms": "증상별 대응 가이드",
      "breed_info": "품종별 특성 및 관리법",
      "registration": "동물등록제 관련 정보",
      "lifestyle": "반려생활 가이드",
      "owner_obligation": "반려동물 소유자 의무사항"
    },
    
    "example_metadata": {
      "json_document": {
        "source_file": "maltese_healthcare.json",
        "source_type": "json",
        "chunk_type": "dog_health",
        "file_path": "/data/rag data/breeds/dog_breed/maltese_healthcare.json",
        "processed_date": "2024-09-05T14:30:00.000Z",
        "id": "maltese_puppy_healthcare",
        "type": "dog_health",
        "title": "말티즈 퍼피 건강관리",
        "keywords": ["말티즈", "퍼피", "예방접종", "중성화수술"],
        "language": "ko",
        "token_count": 245,
        "quality_score": 0.9
      },
      
      "markdown_document": {
        "source_file": "반려동물_재난_대응_가이드라인.md",
        "source_type": "markdown", 
        "chunk_type": "emergency",
        "file_path": "/data/rag data/emergency/반려동물_재난_대응_가이드라인.md",
        "processed_date": "2024-09-05T14:30:00.000Z",
        "title": "대피 계획 세우기",
        "level": 3,
        "parent_titles": ["재난 발생 전 준비사항"],
        "keywords": ["대피 계획", "재난 준비", "임시주거시설"],
        "language": "ko",
        "token_count": 189,
        "quality_score": 0.85
      },
      
      "medicine_document": {
        "source_file": "medicine_data_1p~500p_batch_2000.json",
        "source_type": "json",
        "chunk_type": "medicine", 
        "file_path": "/data/rag data/processed_medications/medicine_data_1p~500p_batch_2000.json",
        "processed_date": "2024-09-05T14:30:00.000Z",
        "id": "med_medicine_data_1p~500p_9_탑_믹스-비테인",
        "title": "탑 믹스-비테인",
        "source_url": "https://medi.qia.go.kr/searchMedicine",
        "source_title": "동물용의약품ㆍ의약외품 정보검색",
        "publisher": "농림축산검역본부 동물용의약품 아지(AZ)트",
        "category": "동물용의약품",
        "keywords": ["탑 믹스-비테인", "비타민", "소", "돼지"],
        "language": "ko",
        "token_count": 512,
        "quality_score": 0.95
      }
    },
    
    "validation_rules": {
      "required_field_check": "모든 required_fields가 존재해야 함",
      "chunk_type_validation": "chunk_type은 정의된 enum 값 중 하나여야 함", 
      "source_type_validation": "source_type은 정의된 enum 값 중 하나여야 함",
      "token_count_range": "token_count는 10-2048 범위 내여야 함",
      "keywords_limit": "keywords 배열은 최대 10개 항목",
      "url_format": "source_url은 유효한 URL 형식이어야 함"
    },
    
    "indexing_strategy": {
      "primary_index": ["chunk_type", "source_type"],
      "secondary_index": ["keywords", "publisher", "source_file"],
      "search_fields": ["title", "keywords", "chunk_type", "publisher"],
      "filter_fields": ["source_type", "chunk_type", "publisher", "language", "processed_date"]
    }
  }
}